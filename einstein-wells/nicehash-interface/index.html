<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Einstein Wells Mining Management | Diamond SAO Command Center</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Notification Ticker (per user preferences) -->
    <div class="notification-ticker">
        <div class="ticker-content">
            <span id="ticker-text">‚ö° Einstein Wells Mining Active ‚Ä¢ Hash Rate: 200.1 TH/s ‚Ä¢ Pool: NiceHash ‚Ä¢ Status: Connected</span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Header -->
        <header class="header-panel">
            <div class="header-content">
                <div class="logo-section">
                    <h1>Einstein Wells Mining Command</h1>
                    <span class="version">v3.0.0-enterprise</span>
                </div>
                <div class="status-indicators">
                    <div class="indicator connected">
                        <span class="dot"></span>
                        <span>Connected</span>
                    </div>
                    <div class="indicator mining">
                        <span class="dot"></span>
                        <span>Mining Active</span>
                    </div>
                </div>
                <!-- Agent Mode Toggle (Pink A) -->
                <div class="agent-toggle" onclick="toggleAgentMode()">
                    <span class="agent-icon">A</span>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="content-wrapper">
            <!-- Left Side: Production/Actions (DO area) -->
            <div class="left-panel do-area">
                
                <!-- Firmware Update Section -->
                <div class="panel firmware-panel">
                    <div class="panel-header">
                        <h2>Firmware Management</h2>
                        <span class="panel-status">Ready</span>
                    </div>
                    <div class="panel-content">
                        <div class="firmware-upload">
                            <div class="upload-zone" id="firmware-drop-zone">
                                <div class="upload-icon">üìÅ</div>
                                <p>Drop firmware files here or click to browse</p>
                                <input type="file" id="firmware-file" accept=".bin,.fw,.tar.gz" multiple>
                                <button class="btn-primary" onclick="document.getElementById('firmware-file').click()">
                                    Select Firmware Files
                                </button>
                            </div>
                            <div class="firmware-list" id="firmware-list">
                                <!-- Uploaded firmware files will appear here -->
                            </div>
                        </div>

                        <div class="device-scanner">
                            <h3>Network Scanning</h3>
                            <div class="scanner-controls">
                                <input type="text" class="input-field" placeholder="IP Range (e.g., 192.168.1.1-254)" id="ip-range">
                                <button class="btn-scan" onclick="scanNetwork()">Scan Network</button>
                            </div>
                            <div class="scan-progress" id="scan-progress" style="display: none;">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progress-fill"></div>
                                </div>
                                <span class="progress-text" id="progress-text">Scanning...</span>
                            </div>
                        </div>

                        <div class="device-selection">
                            <h3>Select Devices for Update</h3>
                            <div class="device-grid" id="device-grid">
                                <!-- Discovered devices will appear here -->
                            </div>
                            <div class="batch-operations">
                                <button class="btn-primary" onclick="selectAllDevices()">Select All</button>
                                <button class="btn-secondary" onclick="clearSelection()">Clear Selection</button>
                                <button class="btn-update" onclick="startFirmwareUpdate()" disabled id="update-btn">
                                    Update Selected Devices
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mining Configuration -->
                <div class="panel config-panel">
                    <div class="panel-header">
                        <h2>Mining Configuration</h2>
                        <span class="panel-status">Active</span>
                    </div>
                    <div class="panel-content">
                        <div class="config-section">
                            <h3>Pool Settings</h3>
                            <div class="form-group">
                                <label>Mining Pool</label>
                                <select class="select-field" id="pool-select">
                                    <option value="nicehash">NiceHash (1.4% fee)</option>
                                    <option value="f2pool">F2Pool</option>
                                    <option value="antpool">AntPool</option>
                                    <option value="custom">Custom Pool</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Algorithm</label>
                                <select class="select-field" id="algorithm-select">
                                    <option value="sha256">SHA-256 (Bitcoin)</option>
                                    <option value="scrypt">Scrypt (Litecoin)</option>
                                    <option value="randomx">RandomX (Monero)</option>
                                    <option value="etchash">ETCHash</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Wallet Address</label>
                                <input type="text" class="input-field" id="wallet-address" 
                                       value="NHbPnJF5FZkdeFDcC53cAhG6tvAD2h5sKua5" readonly>
                            </div>
                            <div class="form-group">
                                <label>Worker Name</label>
                                <input type="text" class="input-field" id="worker-name" 
                                       value="einstein-wells-quantum">
                            </div>
                        </div>

                        <div class="config-section">
                            <h3>Performance Tuning</h3>
                            <div class="tune-options">
                                <div class="tune-option">
                                    <input type="radio" name="tune-mode" value="power" id="power-target">
                                    <label for="power-target">Power Target</label>
                                    <input type="range" class="slider" min="50" max="100" value="85" id="power-slider">
                                    <span class="slider-value">85%</span>
                                </div>
                                <div class="tune-option">
                                    <input type="radio" name="tune-mode" value="hashrate" id="hashrate-target" checked>
                                    <label for="hashrate-target">Hash Rate Target</label>
                                    <input type="range" class="slider" min="150" max="250" value="200" id="hashrate-slider">
                                    <span class="slider-value">200 TH/s</span>
                                </div>
                            </div>
                        </div>

                        <div class="config-actions">
                            <button class="btn-primary" onclick="saveConfiguration()">Save Configuration</button>
                            <button class="btn-secondary" onclick="resetConfiguration()">Reset to Default</button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Side: Results/Output (SEE area) -->
            <div class="right-panel see-area">
                
                <!-- Real-time Mining Dashboard -->
                <div class="panel dashboard-panel">
                    <div class="panel-header">
                        <h2>Mining Dashboard</h2>
                        <span class="panel-status live">Live</span>
                    </div>
                    <div class="panel-content">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Current Hash Rate</div>
                                <div class="stat-value" id="current-hashrate">200.1 TH/s</div>
                                <div class="stat-change positive">+2.1%</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Shares Accepted</div>
                                <div class="stat-value" id="shares-accepted">1,247</div>
                                <div class="stat-change positive">98.2%</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Power Consumption</div>
                                <div class="stat-value" id="power-consumption">3,250W</div>
                                <div class="stat-change neutral">Normal</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Temperature</div>
                                <div class="stat-value" id="temperature">72¬∞C</div>
                                <div class="stat-change normal">Optimal</div>
                            </div>
                        </div>

                        <div class="chart-container">
                            <canvas id="hashrate-chart" width="400" height="200"></canvas>
                        </div>

                        <div class="device-status">
                            <h3>Active Mining Devices</h3>
                            <div class="device-list" id="device-status-list">
                                <div class="device-item active">
                                    <div class="device-info">
                                        <span class="device-name">Einstein-S21-Pro-001</span>
                                        <span class="device-type">ASIC Mimic</span>
                                    </div>
                                    <div class="device-metrics">
                                        <span class="hashrate">200.1 TH/s</span>
                                        <span class="temp">72¬∞C</span>
                                        <span class="status active">Active</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profitability Calculator -->
                <div class="panel profit-panel">
                    <div class="panel-header">
                        <h2>Profitability Calculator</h2>
                        <span class="panel-status">Live Rates</span>
                    </div>
                    <div class="panel-content">
                        <div class="profit-stats">
                            <div class="profit-item">
                                <span class="profit-label">Daily Revenue</span>
                                <span class="profit-value">$145.67</span>
                            </div>
                            <div class="profit-item">
                                <span class="profit-label">Daily Profit</span>
                                <span class="profit-value">$98.23</span>
                            </div>
                            <div class="profit-item">
                                <span class="profit-label">Power Cost</span>
                                <span class="profit-value">$47.44</span>
                            </div>
                            <div class="profit-item">
                                <span class="profit-label">ROI Period</span>
                                <span class="profit-value">8.7 months</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scan to Do Button (Blockchain Confirmation) -->
                <div class="scan-to-do-section">
                    <button class="scan-to-do-btn" onclick="scanToDo()">
                        <span class="qr-icon">üì±</span>
                        <span>Scan to Do</span>
                        <small>Blockchain Confirmation</small>
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- Hexagonal Voice Icon -->
    <div class="voice-control">
        <div class="voice-icon hexagonal" onclick="toggleVoice()">
            <span class="sound-icon">üé§</span>
        </div>
    </div>

    <script src="mining-interface.js"></script>
    <script src="websocket-client.js"></script>
</body>
</html>