<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{SYSTEM_NAME}}.2100.Cool - Aixtiv Symphony Orchestrating Operating System</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: #fafafa;
      color: #1a1a1a;
      overflow-x: hidden;
      overflow-y: auto;
      min-height: 100vh;
    }

    /* Enhanced Animations */
    @keyframes energyFlow {
      0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
      33% { transform: translateY(-12px) translateX(6px) rotate(6deg); }
      66% { transform: translateY(6px) translateX(-6px) rotate(-6deg); }
    }

    @keyframes powerGlow {
      0%, 100% { box-shadow: 0 0 5px rgba(11, 177, 187, 0.8), 0 0 20px rgba(11, 177, 187, 0.4); }
      50% { box-shadow: 0 0 20px rgba(11, 177, 187, 1), 0 0 40px rgba(11, 177, 187, 0.6); }
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes dreamUpdate {
      0% { background: rgba(255, 255, 255, 0.8); }
      50% { background: linear-gradient(135deg, rgba(184, 134, 11, 0.2), rgba(255, 255, 255, 0.9)); }
      100% { background: linear-gradient(135deg, rgba(184, 134, 11, 0.05), rgba(255, 255, 255, 0.8)); }
    }

    @keyframes bookOfLightGlow {
      0%, 100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
      50% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.4); }
    }

    /* Main Container */
    .main-container {
      display: flex;
      min-height: 100vh;
      background: linear-gradient(135deg, #fafafa 0%, #f0f0f0 100%);
      position: relative;
    }

    .page {
      display: none;
      width: 100%;
      min-height: 100vh;
    }

    .page.active {
      display: flex;
    }

    /* Enhanced Particles */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      animation: energyFlow 12s infinite ease-in-out;
    }

    .particle:nth-child(3n) {
      width: 4px;
      height: 4px;
      background: radial-gradient(circle, rgba(11, 177, 187, 0.4), rgba(11, 177, 187, 0.1));
      animation-duration: 15s;
    }

    .particle:nth-child(3n+1) {
      width: 3px;
      height: 3px;
      background: radial-gradient(circle, rgba(80, 200, 120, 0.3), rgba(80, 200, 120, 0.05));
      animation-duration: 10s;
    }

    .particle:nth-child(3n+2) {
      width: 5px;
      height: 5px;
      background: radial-gradient(circle, rgba(255, 215, 0, 0.4), rgba(255, 215, 0, 0.1));
      animation-duration: 18s;
    }

    /* Sidebar */
    .sidebar {
      width: 48px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      padding: 20px 4px;
      position: fixed;
      left: 0;
      top: 0;
      height: 100vh;
      z-index: 100;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
    }

    .sidebar-icons {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex: 1;
      width: 100%;
    }

    .sidebar-icon {
      width: 24px;
      height: 24px;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
      z-index: 101;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .sidebar-icon:hover {
      transform: scale(1.15);
    }

    .sidebar-icon.active {
      animation: powerGlow 2s infinite;
    }

    .sidebar-icon.settings-icon {
      margin-top: 30px;
    }

    .sidebar-icon.dsao-ig-icon {
      margin-top: 8px;
    }

    .dsao-ig-star {
      width: 24px;
      height: 24px;
      background: linear-gradient(135deg, #B8860B, #FFD700);
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .dsao-ig-text {
      font-size: 6px;
      font-weight: 800;
      color: #333;
      position: absolute;
    }

    .icon-tooltip {
      position: absolute;
      left: 54px;
      top: 50%;
      transform: translateY(-50%) translateX(-5px);
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      padding: 8px 12px;
      border-radius: 6px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
      border: 1px solid rgba(11, 177, 187, 0.3);
      font-size: 12px;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      color: #333;
    }

    .sidebar-icon:hover .icon-tooltip {
      opacity: 1;
      transform: translateY(-50%) translateX(5px);
    }

    /* Header */
    .header {
      height: 40px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      position: sticky;
      top: 0;
      z-index: 90;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 20px;
      padding-left: 40px;
    }

    .logo {
      font-size: 18px;
      font-weight: 900;
      background: linear-gradient(135deg, #B8860B, #8B7355, #228B22, #0bb1bb);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 1px;
    }

    .user-info {
      padding-right: 40px;
    }

    .user-name {
      font-size: 13px;
      font-weight: 600;
      color: #1a1a1a;
    }

    .user-tagline {
      font-size: 11px;
      color: #0bb1bb;
      margin-top: 0px;
      margin-bottom: 0px;
      font-weight: 500;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow-x: hidden;
      margin-left: 48px;
      width: calc(100% - 48px);
    }

    .content-area {
      flex: 1;
      display: flex;
      padding: 6px 15px 15px 15px;
      gap: 15px;
      overflow-y: auto;
      min-height: calc(100vh - 85px);
      position: relative;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Chat Area - Main Interface */
    .chat-area {
      flex: 1;
      min-width: 300px;
      display: flex;
      flex-direction: column;
      position: relative;
      transition: all 0.3s ease;
      height: calc(100vh - 120px);
      overflow: hidden;
    }

    .cli-interface {
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .cli-header {
      background: rgba(11, 177, 187, 0.1);
      border: 1px solid rgba(11, 177, 187, 0.3);
      padding: 10px;
      border-radius: 10px;
      margin: 10px;
    }

    .cli-title {
      font-size: 11px;
      font-weight: 600;
      color: #0bb1bb;
      margin-bottom: 4px;
    }

    .cli-description {
      color: #666;
      font-size: 9px;
      line-height: 1.3;
    }

    .cli-content {
      flex: 1;
      padding: 10px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 10px;
      line-height: 1.3;
      color: #333;
      background: #f8f8f8;
      overflow-y: auto;
      scroll-behavior: smooth;
    }

    .cli-input-area {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      background: rgba(11, 177, 187, 0.05);
      padding: 6px 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .cli-prompt {
      color: #0bb1bb;
      font-family: monospace;
      font-size: 10px;
      font-weight: 600;
    }

    .cli-input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: #333;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 10px;
    }

    .cli-execute-btn {
      background: #0bb1bb;
      border: none;
      color: #fff;
      padding: 3px 6px;
      border-radius: 3px;
      font-family: monospace;
      font-size: 9px;
      cursor: pointer;
      font-weight: 600;
    }

    /* CLI Ticker - Scrolls up with smaller text */
    .cli-ticker {
      border-top: 1px solid rgba(11, 177, 187, 0.2);
      background: rgba(11, 177, 187, 0.05);
      height: 16px;
      overflow: hidden;
      display: flex;
      align-items: center;
      border-radius: 0 0 15px 15px;
      position: relative;
      width: 100%;
    }

    .ticker-content {
      white-space: nowrap;
      color: #0bb1bb;
      font-size: 7px;
      font-weight: 500;
      animation: scroll-up 30s linear infinite;
      padding-left: 100%;
      font-family: 'Montserrat', sans-serif;
      line-height: 16px;
    }

    @keyframes scroll-up {
      0% { transform: translateY(100%) translateX(0); }
      100% { transform: translateY(-100%) translateX(-100%); }
    }

    .cli-ticker:hover .ticker-content {
      animation-play-state: paused;
    }

    /* Right Panel - Magic Boxes System with Dream Commander */
    .right-panel {
      width: 320px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      position: relative;
      height: calc(100vh - 120px);
      background: transparent;
      padding: 0 12px 12px 0;
      overflow-y: auto;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      flex-shrink: 0;
      border-left: 1px solid rgba(0, 0, 0, 0.1);
      transform: translateX(0);
    }

    .right-panel.collapsed-middle {
      width: 160px;
      transform: translateX(160px);
    }

    .right-panel.collapsed-third {
      width: 106px;
      transform: translateX(214px);
    }

    .right-panel.collapsed-full {
      width: 48px;
      transform: translateX(272px);
      overflow: hidden;
    }

    .right-panel.collapsed-full .panel-card,
    .right-panel.collapsed-full .pcp-section,
    .right-panel.collapsed-full .magic-boxes-container {
      display: none;
    }

    .panel-toggle-btn {
      position: absolute;
      left: -20px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 60px;
      background: linear-gradient(135deg, #0bb1bb, #50C878);
      border: none;
      border-radius: 10px 0 0 10px;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      z-index: 200;
      box-shadow: -2px 0 10px rgba(11, 177, 187, 0.3);
    }

    .panel-toggle-btn:hover {
      background: linear-gradient(135deg, #50C878, #0bb1bb);
      box-shadow: -4px 0 20px rgba(11, 177, 187, 0.5);
    }

    /* Floating PCP */
    .floating-pcp {
      position: fixed;
      top: 50px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 12px;
      padding: 8px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      z-index: 150;
      display: none;
      transition: all 0.3s ease;
    }

    .floating-pcp.active {
      display: block;
      animation: slideIn 0.3s ease;
    }

    /* PCP Section */
    .pcp-section {
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      padding: 8px;
      margin-bottom: 4px;
      position: sticky;
      top: 0;
      z-index: 5;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .pcp-title {
      text-align: center;
      font-size: 12px;
      font-weight: 600;
      color: #0bb1bb;
      margin-bottom: 4px;
    }

    .pcp-hex-container {
      display: flex;
      gap: 4px;
      align-items: center;
      justify-content: center;
      padding: 4px 0;
      width: 100%;
    }

    .pcp-hex-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .pcp-hex-item:hover {
      transform: scale(1.1);
      animation: pulse 1.5s infinite;
    }

    .pcp-hex-item.active .pcp-status {
      opacity: 1;
      animation: pulse 2s infinite;
    }

    .pcp-hex {
      position: relative;
    }

    .pcp-name {
      font-size: 8px;
      color: #666;
      margin-top: 3px;
      font-weight: 500;
      transition: all 0.3s;
    }

    .pcp-name.active {
      color: #0bb1bb;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(11, 177, 187, 0.3);
    }

    .pcp-status {
      position: absolute;
      bottom: -2px;
      right: -2px;
      width: 8px;
      height: 8px;
      background: #0bb1bb;
      border-radius: 50%;
      border: 2px solid #fafafa;
      opacity: 0;
      transition: all 0.3s;
      box-shadow: 0 0 8px rgba(11, 177, 187, 0.8);
    }

    .active-pcp-display {
      text-align: center;
      font-size: 8px;
      color: #666;
      padding: 3px;
      margin-top: 4px;
    }

    .pcp-badge {
      padding: 3px 6px;
      background: rgba(11, 177, 187, 0.1);
      border-radius: 10px;
      border: 1px solid rgba(11, 177, 187, 0.2);
      display: inline-block;
    }

    .pcp-badge span {
      color: #0bb1bb;
      font-weight: 600;
      font-size: 7px;
    }

    /* Magic Boxes System */
    .magic-boxes-container {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .magic-box {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(11, 177, 187, 0.2);
      border-radius: 6px;
      padding: 6px;
      font-size: 8px;
      line-height: 1.2;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .magic-box.dream-updated {
      border-color: rgba(184, 134, 11, 0.4);
      background: linear-gradient(135deg, rgba(184, 134, 11, 0.05), rgba(255, 255, 255, 0.8));
      animation: dreamUpdate 2s ease-in-out;
    }

    .magic-box.dream-updated::before {
      content: '✨';
      position: absolute;
      top: 2px;
      right: 4px;
      font-size: 6px;
      opacity: 0.7;
    }

    .magic-box.book-of-light-connected {
      border-color: rgba(255, 215, 0, 0.4);
      animation: bookOfLightGlow 3s ease-in-out infinite;
    }

    .magic-box.book-of-light-connected::after {
      content: '📜';
      position: absolute;
      top: 2px;
      left: 4px;
      font-size: 6px;
      opacity: 0.7;
    }

    .magic-box-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 2px;
      font-size: 7px;
    }

    .magic-box-content {
      color: #666;
      font-size: 6px;
      line-height: 1.1;
    }

    .secret-boxes {
      display: none;
    }

    .secret-boxes.revealed {
      display: block;
      animation: slideIn 0.3s ease;
    }

    /* Pilots Lounge Panel */
    .pilots-lounge-panel {
      position: fixed;
      right: -400px;
      top: 0;
      width: 400px;
      height: 100vh;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-left: 1px solid rgba(0, 0, 0, 0.1);
      z-index: 300;
      padding: 20px;
      overflow-y: auto;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
    }

    .pilots-lounge-panel.open {
      right: 0;
    }

    .pilots-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 20px;
    }

    .pilot-card {
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(11, 177, 187, 0.2);
      border-radius: 8px;
      padding: 8px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .pilot-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(11, 177, 187, 0.3);
    }

    .pilot-card.active {
      border-color: rgba(184, 134, 11, 0.4);
      background: linear-gradient(135deg, rgba(184, 134, 11, 0.1), rgba(255, 255, 255, 0.9));
    }

    .pilot-name {
      font-size: 10px;
      font-weight: 600;
      color: #333;
      margin-bottom: 2px;
    }

    .pilot-specialty {
      font-size: 8px;
      color: #666;
      margin-bottom: 3px;
    }

    .pilot-status {
      font-size: 7px;
      padding: 1px 4px;
      border-radius: 4px;
      background: rgba(11, 177, 187, 0.1);
      color: #0bb1bb;
    }

    .feedback-loops-indicator {
      position: absolute;
      bottom: 4px;
      right: 4px;
      display: flex;
      gap: 2px;
    }

    .feedback-dot {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #50C878;
      opacity: 0.7;
    }

    .feedback-dot.lucy { background: #8B5CF6; }
    .feedback-dot.lee { background: #EC4899; }
    .feedback-dot.dream { background: #F59E0B; }
    .feedback-dot.victory { background: #EF4444; }

    /* Voice Integration UI */
    .voice-controls {
      position: fixed;
      bottom: 120px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 95;
    }

    .voice-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .voice-btn.hume {
      background: linear-gradient(135deg, #8B5CF6, #EC4899);
    }

    .voice-btn.elevenlabs {
      background: linear-gradient(135deg, #F59E0B, #EF4444);
    }

    .voice-btn:hover {
      transform: scale(1.1);
    }

    .voice-btn.active {
      animation: pulse 1.5s infinite;
    }

    /* S2DO Button */
    .s2do-button {
      position: fixed;
      bottom: 60px;
      right: 20px;
      width: 70px;
      height: 50px;
      background: linear-gradient(135deg, #0bb1bb, #50C878);
      border-radius: 12px;
      border: none;
      color: white;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: 0 3px 10px rgba(11, 177, 187, 0.4);
      transition: all 0.3s;
      z-index: 95;
      font-size: 10px;
    }

    .s2do-button:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(11, 177, 187, 0.6);
    }

    /* Mobile Responsiveness */
    @media (max-width: 768px) {
      .content-area {
        flex-direction: column;
        padding: 10px;
        margin-right: 0;
      }

      .right-panel {
        position: relative;
        width: 100%;
        height: auto;
        border-left: none;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        transform: none !important;
        padding: 15px 10px;
      }

      .sidebar {
        width: 40px;
      }

      .main-content {
        margin-left: 40px;
        width: calc(100% - 40px);
      }

      .pilots-lounge-panel {
        width: 100%;
        right: -100%;
      }
    }
  </style>
</head>
<body>
  <div class="main-container">
    <!-- Enhanced Particles Background -->
    <div class="particles" id="particles"></div>

    <!-- Enterprise Icon Library - SVG Definitions -->
    <svg style="display: none;">
      <defs>
        <symbol id="icon-chevron-down" viewBox="0 0 24 24">
          <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
        </symbol>
        
        <symbol id="icon-chevron-left" viewBox="0 0 24 24">
          <path d="M15 18l-6-6 6-6"/>
        </symbol>
        
        <symbol id="icon-chevron-right" viewBox="0 0 24 24">
          <path d="M9 18l6-6-6-6"/>
        </symbol>
      </defs>
    </svg>

    <!-- Main Page -->
    <div id="mainPage" class="page active">
      <!-- Sidebar with Global Navigation -->
      <div class="sidebar">
        <div class="sidebar-icons">
          <div class="sidebar-icon active" onclick="selectIcon(this, 'Communication', '01')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#B8860B" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <path d="M9 11l2 2 4-4" stroke="#333" stroke-width="1.5" fill="none"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Communication</strong><br>
              <small>Click to preview feature</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="selectIcon(this, 'Growth', '01')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#4ECDC4" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <path d="M12 8v4l3 3" stroke="#333" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Growth</strong><br>
              <small>Growth Revenues</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="selectIcon(this, 'Services', '03')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#45B7D1" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <path d="M8 12h8M12 8v8" stroke="#333" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Services</strong><br>
              <small>Client Services Innovation</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="selectIcon(this, 'Automation', '02')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#96CEB4" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <path d="M12 6v6l4 2" stroke="#333" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Automation</strong><br>
              <small>Organizational Automation</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="selectIcon(this, 'ROI', '02')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#FECA57" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <circle cx="12" cy="12" r="3" stroke="#333" fill="none" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>ROI</strong><br>
              <small>ROI Dashboard</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="selectIcon(this, 'Wish', '04')">
            <svg viewBox="0 0 24 24" fill="none" stroke="#DDA0DD" stroke-width="1.8">
              <circle cx="12" cy="12" r="10" fill="none" />
              <path d="M7 12h10M7 8h10M7 16h10" stroke="#333" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Wish</strong><br>
              <small>Your Wish</small>
            </div>
          </div>
          
          <div class="sidebar-icon" onclick="toggleAcademy(this)">
            <svg viewBox="0 0 24 24" fill="none" stroke="url(#turquoiseGradient)" stroke-width="1.8">
              <defs>
                <linearGradient id="turquoiseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#008B8B" />
                  <stop offset="100%" stop-color="#0891a0" />
                </linearGradient>
              </defs>
              <path d="M12 2L22 20H2L12 2z" fill="url(#turquoiseGradient)" fill-opacity="0.15" />
            </svg>
            <div class="icon-tooltip">
              <strong>Academy</strong><br>
              <small>Learning & Training</small>
            </div>
          </div>
          
          <!-- Gap before special features -->
          <div style="height: 30px;"></div>
          
          <!-- Pilots Lounge -->
          <div class="sidebar-icon" onclick="openPilotsLounge()">
            <svg viewBox="0 0 24 24" fill="none" stroke="url(#pilotsGradient)" stroke-width="1.8">
              <defs>
                <linearGradient id="pilotsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#8B5CF6" />
                  <stop offset="100%" stop-color="#F59E0B" />
                </linearGradient>
              </defs>
              <rect x="4" y="6" width="16" height="12" rx="3" fill="url(#pilotsGradient)" fill-opacity="0.15"/>
              <path d="M8 10h8M8 14h6" stroke="#333" stroke-width="1.5"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Pilots' Lounge</strong><br>
              <small>14 Advanced Computational Pilots</small>
            </div>
          </div>
          
          <!-- Gift Shop -->
          <div class="sidebar-icon" onclick="openGiftShop()">
            <svg viewBox="0 0 24 24" fill="none" stroke="url(#giftGradient)" stroke-width="1.8">
              <defs>
                <linearGradient id="giftGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#B8860B" />
                  <stop offset="100%" stop-color="#DC143C" />
                </linearGradient>
              </defs>
              <path d="M6 6h12c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2z" fill="url(#giftGradient)" fill-opacity="0.15"/>
              <path d="M8 6V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v2" stroke="#333" stroke-width="1.5" fill="none"/>
            </svg>
            <div class="icon-tooltip">
              <strong>Gift Shop</strong><br>
              <small>Premium Features</small>
            </div>
          </div>
          
          <!-- Settings Star -->
          <div class="sidebar-icon settings-icon" onclick="openSettings()">
            <svg viewBox="0 0 24 24" fill="none" stroke="url(#settingsGradient)" stroke-width="1.8">
              <defs>
                <linearGradient id="settingsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#B8860B" />
                  <stop offset="100%" stop-color="#0bb1bb" />
                </linearGradient>
              </defs>
              <path d="M12 2l3 7 7 1-5 5 1 7-6-3-6 3 1-7-5-5 7-1z" fill="url(#settingsGradient)" fill-opacity="0.2" />
            </svg>
            <div class="icon-tooltip">
              <strong>Settings & Configuration</strong><br>
              <small>Diamond SAO</small>
            </div>
          </div>

          <!-- DSAO.IG Star -->
          <div class="sidebar-icon dsao-ig-icon" onclick="openDSAOIG()">
            <div class="dsao-ig-star">
              <div class="dsao-ig-text">IG</div>
            </div>
            <div class="icon-tooltip">
              <strong>DSAO Integration Gateway</strong><br>
              <small>Diamond SAO IG</small>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Main Content -->
      <div class="main-content">
        <!-- Header with Universal Defaults -->
        <div class="header">
          <div class="header-left">
            <div class="logo" id="systemLogo">ASO OS</div>
          </div>
          <div class="user-info">
            <div class="user-name" id="userName">Mr. Phillip Corey Roark, CEO</div>
            <div class="user-tagline" id="userTagline">Aixtiv Symphony Orchestrating Operating System</div>
          </div>
        </div>
        
        <!-- Content Area -->
        <div class="content-area" id="contentArea">
          <!-- Main Interface (CLI) -->
          <div class="chat-area" id="chatArea">
            <div class="cli-interface">
              <!-- Welcome Header -->
              <div class="cli-header">
                <div class="cli-title">Welcome to {{SYSTEM_NAME}}</div>
                <div class="cli-description">
                  Advanced computational pilots CRx01-03 ready. 14 pilots in lounge with unique voices. 
                  Dream Commander, Dr. Lucy ML, Professor Lee, and Victory 36 feedback loops active.
                  Connected to DIDC Archives and Book of Light. Supreme promises, conversational flow enabled.
                </div>
              </div>
              
              <!-- CLI Content Area -->
              <div class="cli-content" id="cliContent">
                <div style="color: #0bb1bb; font-weight: 600; margin-bottom: 8px;">🎯 {{SYSTEM_NAME}} Command Center</div>
                <div style="margin-bottom: 6px;">🔹 System Status: All operations nominal</div>
                <div style="margin-bottom: 6px;">🔹 PCPs: CRx01, CRx02, CRx03 - Master Computational Pilots</div>
                <div style="margin-bottom: 6px;">🔹 Pilots Lounge: 14 Advanced Conversationalists Active</div>
                <div style="margin-bottom: 6px;">🔹 Dream Commander: Daily insights synchronizing</div>
                <div style="margin-bottom: 6px;">🔹 Dr. Lucy ML: Feedback loop operational</div>
                <div style="margin-bottom: 6px;">🔹 Professor Lee: Research curation active</div>
                <div style="margin-bottom: 6px;">🔹 Victory 36: Prediction system online</div>
                <div style="margin-bottom: 6px;">🔹 Voice: Hume + ElevenLabs Integration</div>
                <div style="margin-bottom: 6px;">🔹 DIDC Archives: Connected to all knowledge sources</div>
                <div style="margin-bottom: 6px;">🔹 Book of Light: Historical context integrated</div>
                <div style="margin-bottom: 6px;">🔹 Magic Boxes: 6 visible, 6 secret (Dream updated)</div>
                <div style="margin-bottom: 10px;">🔹 MCP Instance: mcp.{{SYSTEM_NAME}}.2100.cool</div>
                <div style="color: #50C878; font-weight: 600;">✅ Ready for advanced computational interaction</div>
              </div>
              
              <!-- CLI Input -->
              <div class="cli-input-area">
                <span class="cli-prompt" id="systemPrompt">{{SYSTEM_NAME}}$</span>
                <input type="text" class="cli-input" id="cliInput" placeholder="Ask your question or give a command..." onkeypress="handleKeyPress(event)">
                <button class="cli-execute-btn" onclick="executeCommand()">EXECUTE</button>
              </div>

              <!-- CLI Ticker - Scrolls up with smaller text -->
              <div class="cli-ticker">
                <div class="ticker-content" id="systemTicker">
                  {{SYSTEM_NAME}} Operating System • CRx01-03 Active • 14 Pilots Ready • Dream Commander Syncing • Dr. Lucy ML Loop • Professor Lee Curation • Victory 36 Predictions • Hume + ElevenLabs Voice • DIDC Archives Connected • Book of Light Integrated • Magic Boxes Updated • All Systems Operational • Aixtiv Symphony Orchestrating Operating System
                </div>
              </div>
            </div>
          </div>
          
          <!-- Right Panel - Magic Boxes with Dream Commander & PCPs -->
          <div class="right-panel" id="rightPanel">
            <button class="panel-toggle-btn" onclick="toggleRightPanel()" id="panelToggleBtn">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6" id="toggleIcon"/>
              </svg>
            </button>
            
            <!-- Advanced Professional Co-Pilot Section -->
            <div class="pcp-section">
              <div class="pcp-title">COMPUTATIONAL PILOTS</div>
              <div class="pcp-hex-container">
                <div class="pcp-hex-item active" onclick="activatePCP('CRx01')" id="crx01">
                  <div class="pcp-hex">
                    <svg viewBox="0 0 60 60" style="width: 45px; height: 45px;">
                      <defs>
                        <linearGradient id="crx01Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#B8860B;stop-opacity:1" />
                          <stop offset="50%" style="stop-color:#0bb1bb;stop-opacity:1" />
                          <stop offset="100%" style="stop-color:#4ECDC4;stop-opacity:1" />
                        </linearGradient>
                      </defs>
                      <path d="M30 5 L50 20 L50 40 L30 55 L10 40 L10 20 Z" fill="url(#crx01Gradient)" stroke="#B8860B" stroke-width="2" opacity="0.9" />
                      <text x="30" y="18" text-anchor="middle" fill="white" font-size="6" font-weight="600">CR</text>
                      <text x="30" y="28" text-anchor="middle" fill="white" font-size="8" font-weight="800">x01</text>
                      <text x="30" y="36" text-anchor="middle" fill="white" font-size="5" font-weight="600">PCP</text>
                    </svg>
                    <div class="pcp-status" style="opacity: 1;"></div>
                  </div>
                  <div class="pcp-name active">Master</div>
                </div>
                
                <div class="pcp-hex-item" onclick="activatePCP('CRx02')" id="crx02">
                  <div class="pcp-hex">
                    <svg viewBox="0 0 60 60" style="width: 45px; height: 45px;">
                      <defs>
                        <linearGradient id="crx02Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
                          <stop offset="50%" style="stop-color:#EC4899;stop-opacity:1" />
                          <stop offset="100%" style="stop-color:#F59E0B;stop-opacity:1" />
                        </linearGradient>
                      </defs>
                      <path d="M30 5 L50 20 L50 40 L30 55 L10 40 L10 20 Z" fill="url(#crx02Gradient)" stroke="#8B5CF6" stroke-width="2" opacity="0.9" />
                      <text x="30" y="18" text-anchor="middle" fill="white" font-size="6" font-weight="600">CR</text>
                      <text x="30" y="28" text-anchor="middle" fill="white" font-size="8" font-weight="800">x02</text>
                      <text x="30" y="36" text-anchor="middle" fill="white" font-size="5" font-weight="600">PCP</text>
                    </svg>
                    <div class="pcp-status"></div>
                  </div>
                  <div class="pcp-name">Specialist</div>
                </div>
                
                <div class="pcp-hex-item" onclick="activatePCP('CRx03')" id="crx03">
                  <div class="pcp-hex">
                    <svg viewBox="0 0 60 60" style="width: 45px; height: 45px;">
                      <defs>
                        <linearGradient id="crx03Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
                          <stop offset="50%" style="stop-color:#F59E0B;stop-opacity:1" />
                          <stop offset="100%" style="stop-color:#10B981;stop-opacity:1" />
                        </linearGradient>
                      </defs>
                      <path d="M30 5 L50 20 L50 40 L30 55 L10 40 L10 20 Z" fill="url(#crx03Gradient)" stroke="#EF4444" stroke-width="2" opacity="0.9" />
                      <text x="30" y="18" text-anchor="middle" fill="white" font-size="6" font-weight="600">CR</text>
                      <text x="30" y="28" text-anchor="middle" fill="white" font-size="8" font-weight="800">x03</text>
                      <text x="30" y="36" text-anchor="middle" fill="white" font-size="5" font-weight="600">PCP</text>
                    </svg>
                    <div class="pcp-status"></div>
                  </div>
                  <div class="pcp-name">Analyst</div>
                </div>
              </div>
              <div class="active-pcp-display">
                <div class="pcp-badge">
                  <span id="activePCPDisplay">CRx01 - Master Computational Pilot</span>
                </div>
              </div>
            </div>

            <!-- Magic Boxes System - Dream Commander Updates -->
            <div class="magic-boxes-container" id="magicBoxesContainer">
              <!-- Visible Magic Boxes (Top 6) -->
              <div class="magic-box dream-updated book-of-light-connected" id="magicBox1">
                <div class="magic-box-title">Strategic Intelligence</div>
                <div class="magic-box-content">Dream Commander analyzing sector priorities via DIDC Archives</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
                  <div class="feedback-dot dream" title="Dream Commander"></div>
                </div>
              </div>
              
              <div class="magic-box book-of-light-connected" id="magicBox2">
                <div class="magic-box-title">Performance Analytics</div>
                <div class="magic-box-content">Book of Light historical patterns integrated with current KPIs</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot lee" title="Professor Lee"></div>
                  <div class="feedback-dot victory" title="Victory 36"></div>
                </div>
              </div>
              
              <div class="magic-box" id="magicBox3">
                <div class="magic-box-title">Market Intelligence</div>
                <div class="magic-box-content">DIDC Archives providing sector-specific insights</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot lee" title="Professor Lee"></div>
                </div>
              </div>
              
              <div class="magic-box" id="magicBox4">
                <div class="magic-box-title">Operations Optimization</div>
                <div class="magic-box-content">Advanced computational analysis in progress</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
                </div>
              </div>
              
              <div class="magic-box" id="magicBox5">
                <div class="magic-box-title">Resource Allocation</div>
                <div class="magic-box-content">Strategic distribution analysis scheduled</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot dream" title="Dream Commander"></div>
                </div>
              </div>
              
              <div class="magic-box" id="magicBox6">
                <div class="magic-box-title">Predictive Analytics</div>
                <div class="magic-box-content">Victory 36 generating advanced forecasts</div>
                <div class="feedback-loops-indicator">
                  <div class="feedback-dot victory" title="Victory 36"></div>
                </div>
              </div>
              
              <!-- Secret Magic Boxes (Bottom 6) -->
              <div class="secret-boxes" id="secretBoxes">
                <div class="magic-box book-of-light-connected" id="secretBox1">
                  <div class="magic-box-title">Classified Intelligence</div>
                  <div class="magic-box-content">Book of Light classified historical patterns</div>
                  <div class="feedback-loops-indicator">
                    <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
                    <div class="feedback-dot lee" title="Professor Lee"></div>
                    <div class="feedback-dot dream" title="Dream Commander"></div>
                    <div class="feedback-dot victory" title="Victory 36"></div>
                  </div>
                </div>
                
                <div class="magic-box" id="secretBox2">
                  <div class="magic-box-title">Hidden Analytics</div>
                  <div class="magic-box-content">Deep computational metrics from all 14 pilots</div>
                </div>
                
                <div class="magic-box" id="secretBox3">
                  <div class="magic-box-title">Shadow Research</div>
                  <div class="magic-box-content">DIDC Archives exclusive intelligence gathering</div>
                </div>
                
                <div class="magic-box" id="secretBox4">
                  <div class="magic-box-title">Private Insights</div>
                  <div class="magic-box-content">Advanced computational pilot exclusive data</div>
                </div>
                
                <div class="magic-box" id="secretBox5">
                  <div class="magic-box-title">Covert Operations</div>
                  <div class="magic-box-content">Stealth analytical strategies</div>
                </div>
                
                <div class="magic-box" id="secretBox6">
                  <div class="magic-box-title">Oracle Predictions</div>
                  <div class="magic-box-content">Victory 36 ultimate forecasting capabilities</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Floating PCP when panel is collapsed -->
      <div class="floating-pcp" id="floatingPCP">
        <div class="pcp-title" style="font-size: 10px; margin-bottom: 3px;">PCP</div>
        <div class="pcp-hex-container" style="justify-content: center;">
          <div class="pcp-hex-item active" onclick="activatePCP('CRx01')" style="transform: scale(0.6);">
            <div class="pcp-hex">
              <svg viewBox="0 0 60 60" style="width: 35px; height: 35px;">
                <path d="M30 5 L50 20 L50 40 L30 55 L10 40 L10 20 Z" fill="url(#crx01Gradient)" stroke="#B8860B" stroke-width="2" opacity="0.9" />
                <text x="30" y="16" text-anchor="middle" fill="white" font-size="4" font-weight="600">CR</text>
                <text x="30" y="24" text-anchor="middle" fill="white" font-size="6" font-weight="800">x01</text>
                <text x="30" y="31" text-anchor="middle" fill="white" font-size="3" font-weight="600">PCP</text>
              </svg>
              <div class="pcp-status" style="opacity: 1;"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pilots Lounge Panel -->
      <div class="pilots-lounge-panel" id="pilotsLoungePanel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
          <h2 style="font-size: 16px; color: #0bb1bb; margin: 0;">Pilots' Lounge</h2>
          <button onclick="closePilotsLounge()" style="background: none; border: none; font-size: 20px; cursor: pointer; color: #666;">&times;</button>
        </div>
        <div style="font-size: 10px; color: #666; margin-bottom: 15px;">
          14 Advanced Computational Pilots • Connected to DIDC Archives • Book of Light Integration • Unique Voice Synthesis
        </div>
        
        <div class="pilots-grid" id="pilotsGrid">
          <!-- CRx01-03 Advanced Computational Pilots -->
          <div class="pilot-card active" data-pilot="CRx01" onclick="selectPilot('CRx01')">
            <div class="pilot-name">CRx01 - Master</div>
            <div class="pilot-specialty">Master Computational Pilot</div>
            <div class="pilot-status">ACTIVE</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
              <div class="feedback-dot lee" title="Professor Lee"></div>
              <div class="feedback-dot dream" title="Dream Commander"></div>
              <div class="feedback-dot victory" title="Victory 36"></div>
            </div>
          </div>
          
          <div class="pilot-card" data-pilot="CRx02" onclick="selectPilot('CRx02')">
            <div class="pilot-name">CRx02 - Specialist</div>
            <div class="pilot-specialty">Advanced Specialist Pilot</div>
            <div class="pilot-status">READY</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
              <div class="feedback-dot dream" title="Dream Commander"></div>
            </div>
          </div>
          
          <div class="pilot-card" data-pilot="CRx03" onclick="selectPilot('CRx03')">
            <div class="pilot-name">CRx03 - Analyst</div>
            <div class="pilot-specialty">Computational Analyst</div>
            <div class="pilot-status">READY</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lee" title="Professor Lee"></div>
              <div class="feedback-dot victory" title="Victory 36"></div>
            </div>
          </div>
          
          <!-- 11 Additional Advanced Computational Pilots -->
          <div class="pilot-card" data-pilot="Dr.Memoria" onclick="selectPilot('Dr.Memoria')">
            <div class="pilot-name">Dr. Memoria sRIX</div>
            <div class="pilot-specialty">Memory & Archive Specialist</div>
            <div class="pilot-status">DIDC CONNECTED</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lee" title="Professor Lee"></div>
            </div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Lucy" onclick="selectPilot('Dr.Lucy')">
            <div class="pilot-name">Dr. Lucy sRIX</div>
            <div class="pilot-specialty">ML & Feedback Loop Master</div>
            <div class="pilot-status">FEEDBACK ACTIVE</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lucy" title="Dr. Lucy ML"></div>
            </div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Match" onclick="selectPilot('Dr.Match')">
            <div class="pilot-name">Dr. Match sRIX</div>
            <div class="pilot-specialty">Pattern Recognition Expert</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Cypriot" onclick="selectPilot('Dr.Cypriot')">
            <div class="pilot-name">Dr. Cypriot sRIX</div>
            <div class="pilot-specialty">Cryptographic Analysis</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Claude" onclick="selectPilot('Dr.Claude')">
            <div class="pilot-name">Dr. Claude sRIX</div>
            <div class="pilot-specialty">Conversational Intelligence</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Professor.Lee" onclick="selectPilot('Professor.Lee')">
            <div class="pilot-name">Professor Lee sRIX</div>
            <div class="pilot-specialty">Research Curator & Feedback</div>
            <div class="pilot-status">CURATION ACTIVE</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot lee" title="Professor Lee"></div>
            </div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Sabina" onclick="selectPilot('Dr.Sabina')">
            <div class="pilot-name">Dr. Sabina sRIX</div>
            <div class="pilot-specialty">Strategic Analysis</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Maria" onclick="selectPilot('Dr.Maria')">
            <div class="pilot-name">Dr. Maria sRIX</div>
            <div class="pilot-specialty">Operational Excellence</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Roark" onclick="selectPilot('Dr.Roark')">
            <div class="pilot-name">Dr. Roark sRIX</div>
            <div class="pilot-specialty">Leadership & Vision</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Grant" onclick="selectPilot('Dr.Grant')">
            <div class="pilot-name">Dr. Grant sRIX</div>
            <div class="pilot-specialty">Resource Optimization</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Dr.Burby" onclick="selectPilot('Dr.Burby')">
            <div class="pilot-name">Dr. Burby sRIX</div>
            <div class="pilot-specialty">Innovation & Development</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Elite11" onclick="selectPilot('Elite11')">
            <div class="pilot-name">Elite11</div>
            <div class="pilot-specialty">Elite Operations Management</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Mastery33" onclick="selectPilot('Mastery33')">
            <div class="pilot-name">Mastery33</div>
            <div class="pilot-specialty">Mastery & Excellence</div>
            <div class="pilot-status">READY</div>
          </div>
          
          <div class="pilot-card" data-pilot="Victory36" onclick="selectPilot('Victory36')">
            <div class="pilot-name">Victory36</div>
            <div class="pilot-specialty">Advanced Predictions Master</div>
            <div class="pilot-status">PREDICTIONS ACTIVE</div>
            <div class="feedback-loops-indicator">
              <div class="feedback-dot victory" title="Victory 36"></div>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 15px; padding: 10px; background: rgba(11, 177, 187, 0.1); border-radius: 6px; font-size: 8px; color: #666;">
          <strong>DIDC Archives Connection:</strong> All pilots connected to comprehensive knowledge sources<br>
          <strong>Book of Light:</strong> Historical context and patterns integrated<br>
          <strong>Feedback Loops:</strong> Dr. Lucy ML, Professor Lee, Dream Commander, Victory 36<br>
          <strong>Voice Synthesis:</strong> Each pilot has unique voice characteristics via Hume + ElevenLabs
        </div>
      </div>
      
      <!-- Voice Controls -->
      <div class="voice-controls" id="voiceControls">
        <button class="voice-btn hume" onclick="toggleHumeVoice()" title="Hume Voice Integration">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7z"/>
          </svg>
        </button>
        
        <button class="voice-btn elevenlabs" onclick="toggleElevenLabsVoice()" title="ElevenLabs Voice Fallback">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
            <path d="M3 9v6h4l5 5V4L7 9H3zm7-.17v6.34L7.83 13H5v-2h2.83L10 8.83z"/>
          </svg>
        </button>
      </div>
      
      <!-- S2DO Button -->
      <button class="s2do-button" id="s2doButton" onclick="initiateScanToDo()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9V5a2 2 0 0 1 2-2h4M3 15v4a2 2 0 0 0 2 2h4M15 3h4a2 2 0 0 1 2 2v4M15 21h4a2 2 0 0 0 2-2v-4"/>
        </svg>
        <div style="font-size: 8px; margin-top: 2px;">S2DO</div>
      </button>
    </div>
  </div>

  <script>
    // Global Variables
    let activePCP = 'CRx01';
    let userRole = 'owner';
    let userLevel = 'enterprise';
    
    // System Configuration - Universal Defaults with Template Variables
    let systemConfig = {
      name: 'Universal System', // Will be replaced by {{SYSTEM_NAME}}
      companyName: 'ASO OS', // Fallback display name
      tagline: 'Aixtiv Symphony Orchestrating Operating System',
      mcpInstance: 'mcp.universal.2100.cool', // Will be replaced
      sector: 'universal',
      function: 'computational'
    };
    
    // Right Panel State Management - 4 States
    let rightPanelStates = ['open', 'middle', 'third', 'closed'];
    let currentPanelState = 0;
    
    // Dream Commander System
    let dreamCommanderActive = true;
    let lastDreamUpdate = new Date();
    let dreamUpdateInterval = 24 * 60 * 60 * 1000; // 24 hours
    
    // Advanced Computational Pilots Registry
    let computationalPilots = {
      'CRx01': { name: 'CRx01 - Master', specialty: 'Master Computational Pilot', active: true, voice: 'master-computational', feedbackLoops: ['lucy', 'lee', 'dream', 'victory'] },
      'CRx02': { name: 'CRx02 - Specialist', specialty: 'Advanced Specialist Pilot', active: false, voice: 'specialist-computational', feedbackLoops: ['lucy', 'dream'] },
      'CRx03': { name: 'CRx03 - Analyst', specialty: 'Computational Analyst', active: false, voice: 'analyst-computational', feedbackLoops: ['lee', 'victory'] },
      'Dr.Memoria': { name: 'Dr. Memoria sRIX', specialty: 'Memory & Archive Specialist', active: false, voice: 'memoria-archives', feedbackLoops: ['lee'] },
      'Dr.Lucy': { name: 'Dr. Lucy sRIX', specialty: 'ML & Feedback Loop Master', active: false, voice: 'lucy-ml', feedbackLoops: ['lucy'] },
      'Dr.Match': { name: 'Dr. Match sRIX', specialty: 'Pattern Recognition Expert', active: false, voice: 'match-patterns', feedbackLoops: [] },
      'Dr.Cypriot': { name: 'Dr. Cypriot sRIX', specialty: 'Cryptographic Analysis', active: false, voice: 'cypriot-crypto', feedbackLoops: [] },
      'Dr.Claude': { name: 'Dr. Claude sRIX', specialty: 'Conversational Intelligence', active: false, voice: 'claude-conversation', feedbackLoops: [] },
      'Professor.Lee': { name: 'Professor Lee sRIX', specialty: 'Research Curator & Feedback', active: false, voice: 'lee-research', feedbackLoops: ['lee'] },
      'Dr.Sabina': { name: 'Dr. Sabina sRIX', specialty: 'Strategic Analysis', active: false, voice: 'sabina-strategy', feedbackLoops: [] },
      'Dr.Maria': { name: 'Dr. Maria sRIX', specialty: 'Operational Excellence', active: false, voice: 'maria-operations', feedbackLoops: [] },
      'Dr.Roark': { name: 'Dr. Roark sRIX', specialty: 'Leadership & Vision', active: false, voice: 'roark-leadership', feedbackLoops: [] },
      'Dr.Grant': { name: 'Dr. Grant sRIX', specialty: 'Resource Optimization', active: false, voice: 'grant-resources', feedbackLoops: [] },
      'Dr.Burby': { name: 'Dr. Burby sRIX', specialty: 'Innovation & Development', active: false, voice: 'burby-innovation', feedbackLoops: [] },
      'Elite11': { name: 'Elite11', specialty: 'Elite Operations Management', active: false, voice: 'elite-operations', feedbackLoops: [] },
      'Mastery33': { name: 'Mastery33', specialty: 'Mastery & Excellence', active: false, voice: 'mastery-excellence', feedbackLoops: [] },
      'Victory36': { name: 'Victory36', specialty: 'Advanced Predictions Master', active: false, voice: 'victory-predictions', feedbackLoops: ['victory'] }
    };

    // Feedback Loop Systems
    let feedbackLoops = {
      'lucy': { name: 'Dr. Lucy ML', active: true, description: 'Machine Learning Feedback Loop' },
      'lee': { name: 'Professor Lee', active: true, description: 'Research Curator Feedback Loop' },
      'dream': { name: 'Dream Commander', active: true, description: 'Advanced Prompting Abilities' },
      'victory': { name: 'Victory 36', active: true, description: 'Advanced Predictions System' }
    };

    // DIDC Archives and Book of Light Connection
    let didcConnection = {
      archives: { connected: true, status: 'All knowledge sources accessible' },
      bookOfLight: { connected: true, status: 'Historical patterns integrated' }
    };
    
    // Conversation Flow Management - Supreme Promises Only
    let conversationHistory = [];
    let pcpResponseQueue = [];
    let isProcessingConversation = false;
    
    // Voice Integration System
    let voiceSystem = {
      hume: { active: false, available: true },
      elevenlabs: { active: true, available: true } // Fallback
    };
    
    // Magic Boxes Data Structure - Universal
    let magicBoxesData = {
      visible: [
        { id: 1, title: 'Strategic Intelligence', content: 'Dream Commander analyzing sector priorities via DIDC Archives', sector: 'intelligence', lastUpdate: new Date(), dreamUpdated: true, bookOfLight: true },
        { id: 2, title: 'Performance Analytics', content: 'Book of Light historical patterns integrated with current KPIs', sector: 'performance', lastUpdate: new Date(), dreamUpdated: false, bookOfLight: true },
        { id: 3, title: 'Market Intelligence', content: 'DIDC Archives providing sector-specific insights', sector: 'market', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 4, title: 'Operations Optimization', content: 'Advanced computational analysis in progress', sector: 'operations', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 5, title: 'Resource Allocation', content: 'Strategic distribution analysis scheduled', sector: 'finance', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 6, title: 'Predictive Analytics', content: 'Victory 36 generating advanced forecasts', sector: 'predictions', lastUpdate: null, dreamUpdated: false, bookOfLight: false }
      ],
      secret: [
        { id: 7, title: 'Classified Intelligence', content: 'Book of Light classified historical patterns', sector: 'intelligence', lastUpdate: null, dreamUpdated: false, bookOfLight: true },
        { id: 8, title: 'Hidden Analytics', content: 'Deep computational metrics from all 14 pilots', sector: 'analytics', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 9, title: 'Shadow Research', content: 'DIDC Archives exclusive intelligence gathering', sector: 'research', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 10, title: 'Private Insights', content: 'Advanced computational pilot exclusive data', sector: 'insights', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 11, title: 'Covert Operations', content: 'Stealth analytical strategies', sector: 'stealth', lastUpdate: null, dreamUpdated: false, bookOfLight: false },
        { id: 12, title: 'Oracle Predictions', content: 'Victory 36 ultimate forecasting capabilities', sector: 'forecasting', lastUpdate: null, dreamUpdated: false, bookOfLight: false }
      ]
    };

    // Initialize System - Supreme Promise Pattern
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        await initializeUniversalSystem();
        console.log('🎯 Universal System Interface Loaded');
        console.log('🏛️ Authority: Diamond SAO Command Center');
        console.log('💎 PCPs: CRx01-03 - Advanced Computational Pilots');
        console.log('👥 Pilots: 14 Computational Pilots Ready');
        console.log('📜 DIDC: Archives and Book of Light Connected');
      } catch (error) {
        console.error('System initialization failed:', error);
      }
    });

    // Supreme Promise - Initialize Complete Universal System
    async function initializeUniversalSystem() {
      await initializeEnhancedParticles();
      await loadUniversalUserData();
      await activatePCP('CRx01');
      await initializeDreamCommander();
      await initializeVoiceSystem();
      await initializeDIDCConnection();
      await updateSystemTicker();
      
      // Start Dream Commander daily cycle
      setInterval(dreamCommanderCycle, dreamUpdateInterval);
      
      return Promise.resolve('Universal System initialized successfully');
    }

    // Initialize Enhanced Particles - Supreme Promise
    async function initializeEnhancedParticles() {
      return new Promise((resolve) => {
        const particlesContainer = document.getElementById('particles');
        const particleCount = 25;
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          particle.style.left = Math.random() * 100 + '%';
          particle.style.top = Math.random() * 100 + '%';
          particle.style.animationDelay = Math.random() * 12 + 's';
          particle.style.animationDuration = (10 + Math.random() * 8) + 's';
          particlesContainer.appendChild(particle);
        }
        
        resolve('Particles initialized');
      });
    }

    // Load Universal User Data - Supreme Promise with Template Variables
    async function loadUniversalUserData() {
      return new Promise((resolve) => {
        setTimeout(() => {
          // Handle template variables properly
          const templateSystemName = '{{SYSTEM_NAME}}';
          const hasCustomName = templateSystemName !== '{{SYSTEM_NAME}}' && templateSystemName.trim() !== '';
          
          const userData = {
            systemName: hasCustomName ? templateSystemName : 'Universal System',
            companyName: hasCustomName ? templateSystemName : 'ASO OS',
            userName: 'Mr. Phillip Corey Roark, CEO',
            tagline: 'Aixtiv Symphony Orchestrating Operating System',
            authLevel: 5,
            sector: 'universal',
            function: 'computational',
            kpis: ['intelligence', 'performance', 'innovation', 'prediction']
          };
          
          const userNameEl = document.getElementById('userName');
          const userTaglineEl = document.getElementById('userTagline');
          const systemLogoEl = document.getElementById('systemLogo');
          const systemPromptEl = document.getElementById('systemPrompt');
          
          if (userNameEl) userNameEl.textContent = userData.userName;
          if (userTaglineEl) userTaglineEl.textContent = userData.tagline;
          if (systemLogoEl) systemLogoEl.textContent = userData.companyName;
          if (systemPromptEl) systemPromptEl.textContent = `${userData.companyName}$`;
          
          // Update system config
          systemConfig = {
            ...systemConfig,
            name: userData.systemName,
            companyName: userData.companyName,
            mcpInstance: `mcp.${userData.systemName.toLowerCase().replace(/\s+/g, '')}.2100.cool`,
            sector: userData.sector,
            function: userData.function,
            kpis: userData.kpis
          };
          
          updateTickerMessage(`${userData.userName} authenticated • ${userData.companyName} Command Center operational`);
          resolve(userData);
        }, 500);
      });
    }

    // Activate Advanced Computational Pilot
    async function activatePCP(pilotId) {
      return new Promise((resolve) => {
        // Deactivate all pilots
        Object.keys(computationalPilots).forEach(id => {
          computationalPilots[id].active = false;
          const element = document.getElementById(id.toLowerCase());
          if (element) {
            element.classList.remove('active');
            element.querySelector('.pcp-name').classList.remove('active');
            element.querySelector('.pcp-status').style.opacity = '0';
          }
        });
        
        // Activate selected pilot
        if (computationalPilots[pilotId]) {
          computationalPilots[pilotId].active = true;
          activePCP = pilotId;
          
          const element = document.getElementById(pilotId.toLowerCase());
          if (element) {
            element.classList.add('active');
            element.querySelector('.pcp-name').classList.add('active');
            element.querySelector('.pcp-status').style.opacity = '1';
            element.style.animation = 'pulse 0.6s ease-in-out';
            setTimeout(() => {
              element.style.animation = '';
            }, 600);
          }
        }
        
        const activeDisplay = document.getElementById('activePCPDisplay');
        if (activeDisplay) {
          activeDisplay.textContent = computationalPilots[pilotId].name;
          activeDisplay.style.color = '#0bb1bb';
        }
        
        initializeAdvancedPilotCore(pilotId).then(() => {
          updateTickerMessage(`${computationalPilots[pilotId].name} activated - Advanced computational intelligence ready`);
          resolve(`${pilotId} activated`);
        });
      });
    }

    // Initialize Advanced Pilot Core Systems
    async function initializeAdvancedPilotCore(pilotId) {
      const pilot = computationalPilots[pilotId];
      const systems = [
        'DIDC Archives Connection',
        'Book of Light Integration',
        'Unique Voice Synthesis',
        'Feedback Loop Synchronization',
        'Advanced Computational Intelligence',
        'Dream Commander Interface',
        'Supreme Promise Architecture'
      ];
      
      for (let i = 0; i < systems.length; i++) {
        await new Promise(resolve => {
          setTimeout(() => {
            console.log(`💎 ${pilot.name}: ${systems[i]} - Online`);
            resolve();
          }, (i + 1) * 150);
        });
      }
      
      return Promise.resolve(`${pilot.name} Core Systems Online`);
    }

    // Initialize DIDC Connection
    async function initializeDIDCConnection() {
      return new Promise((resolve) => {
        console.log('📜 DIDC Archives: Connecting to all knowledge sources');
        console.log('📖 Book of Light: Integrating historical patterns');
        
        setTimeout(() => {
          didcConnection.archives.connected = true;
          didcConnection.bookOfLight.connected = true;
          
          // Update magic boxes with DIDC/Book of Light indicators
          updateMagicBoxConnections();
          
          resolve('DIDC and Book of Light connections established');
        }, 1000);
      });
    }

    // Update Magic Box Connections
    function updateMagicBoxConnections() {
      magicBoxesData.visible.forEach((box, index) => {
        const boxElement = document.getElementById(`magicBox${index + 1}`);
        if (box.bookOfLight && boxElement) {
          boxElement.classList.add('book-of-light-connected');
        }
      });
    }

    // Initialize Dream Commander - Supreme Promise
    async function initializeDreamCommander() {
      return new Promise((resolve) => {
        console.log('🌟 Dream Commander: Advanced prompting system initializing');
        
        const now = new Date();
        const timeSinceLastUpdate = now - lastDreamUpdate;
        
        if (timeSinceLastUpdate >= dreamUpdateInterval) {
          dreamCommanderUpdate().then(() => {
            resolve('Dream Commander initialized and updated');
          });
        } else {
          resolve('Dream Commander initialized');
        }
      });
    }

    // Dream Commander Update with Advanced Computational Integration
    async function dreamCommanderUpdate() {
      return new Promise((resolve) => {
        console.log('🌟 Dream Commander: Beginning advanced computational update cycle');
        
        // Update magic boxes with computational pilot insights
        const updatesToMake = Math.floor(Math.random() * 4) + 2; // Update 2-5 boxes
        
        for (let i = 0; i < updatesToMake; i++) {
          setTimeout(() => {
            updateMagicBoxWithComputationalInsight(i + 1);
            if (i === updatesToMake - 1) {
              lastDreamUpdate = new Date();
              updateTickerMessage('Dream Commander: Advanced computational sync completed - All insights updated');
              resolve('Dream Commander computational update completed');
            }
          }, i * 800);
        }
      });
    }

    // Update Magic Box with Computational Insights
    function updateMagicBoxWithComputationalInsight(boxIndex) {
      const box = magicBoxesData.visible[boxIndex - 1];
      if (!box) return;
      
      const boxElement = document.getElementById(`magicBox${boxIndex}`);
      if (!boxElement) return;
      
      // Generate advanced computational content
      const computationalContent = generateAdvancedComputationalContent(box.sector, activePCP);
      
      box.content = `Dream Commander: ${computationalContent}`;
      box.lastUpdate = new Date();
      box.dreamUpdated = true;
      
      // Update UI with computational enhancement
      boxElement.querySelector('.magic-box-content').textContent = box.content;
      boxElement.classList.add('dream-updated');
      
      console.log(`🌟 Dream Commander: Updated ${box.title} with computational insights`);
    }

    // Generate Advanced Computational Content
    function generateAdvancedComputationalContent(sector, pilotId) {
      const pilot = computationalPilots[pilotId];
      const computationalTemplates = {
        intelligence: [
          `${pilot.name} analyzing strategic patterns with 97.3% accuracy`,
          'DIDC Archives cross-referencing historical intelligence data',
          'Advanced pattern recognition detecting emerging opportunities'
        ],
        performance: [
          `${pilot.name} optimizing performance metrics via ML feedback loops`,
          'Book of Light historical performance patterns integrated',
          'Computational analysis shows 23% efficiency improvement potential'
        ],
        market: [
          `${pilot.name} processing market intelligence from 14 data sources`,
          'Competitive landscape analysis completed with high confidence',
          'Market positioning algorithms suggest strategic pivot opportunities'
        ],
        operations: [
          `${pilot.name} operational optimization algorithms running`,
          'Resource allocation models updated with real-time data',
          'Process efficiency gains identified through computational analysis'
        ],
        finance: [
          `${pilot.name} financial modeling with predictive accuracy`,
          'Investment portfolio optimization via advanced algorithms',
          'Risk assessment models updated with market volatility data'
        ],
        predictions: [
          `Victory 36 advanced predictions system generating forecasts`,
          'Quantum probability models processing multiple scenarios',
          'Predictive algorithms showing 87% accuracy on 6-month projections'
        ]
      };
      
      const templates = computationalTemplates[sector] || [
        `${pilot.name} advanced computational analysis complete`
      ];
      return templates[Math.floor(Math.random() * templates.length)];
    }

    // Initialize Voice System with Advanced Pilot Integration
    async function initializeVoiceSystem() {
      return new Promise((resolve) => {
        checkHumeAvailability().then((humeReady) => {
          voiceSystem.hume.available = humeReady;
          voiceSystem.hume.active = humeReady;
          
          if (!humeReady) {
            voiceSystem.elevenlabs.active = true;
            console.log('🎙️ Voice System: ElevenLabs fallback activated for all 14 pilots');
          } else {
            console.log('🎙️ Voice System: Hume integration active for all 14 pilots');
          }
          
          updateVoiceUI();
          resolve('Advanced voice system initialized for all computational pilots');
        });
      });
    }

    // Check Hume Availability
    async function checkHumeAvailability() {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve(Math.random() > 0.2); // 80% availability simulation
        }, 800);
      });
    }

    // Update Voice UI
    function updateVoiceUI() {
      const humeBtn = document.querySelector('.voice-btn.hume');
      const elevenBtn = document.querySelector('.voice-btn.elevenlabs');
      
      if (voiceSystem.hume.active) {
        humeBtn.classList.add('active');
        elevenBtn.classList.remove('active');
      } else {
        humeBtn.classList.remove('active');
        elevenBtn.classList.add('active');
      }
    }

    // Toggle Right Panel - 4 States Universal
    function toggleRightPanel() {
      const panel = document.getElementById('rightPanel');
      const floatingPCP = document.getElementById('floatingPCP');
      const toggleIcon = document.getElementById('toggleIcon');
      const contentArea = document.getElementById('contentArea');
      
      currentPanelState = (currentPanelState + 1) % rightPanelStates.length;
      const state = rightPanelStates[currentPanelState];
      
      // Remove all state classes
      panel.classList.remove('collapsed-middle', 'collapsed-third', 'collapsed-full');
      
      switch (state) {
        case 'open':
          floatingPCP.classList.remove('active');
          toggleIcon.setAttribute('d', 'M15 18l-6-6 6-6');
          updateTickerMessage('Magic Boxes panel: Full view - All computational insights visible');
          break;
          
        case 'middle':
          panel.classList.add('collapsed-middle');
          floatingPCP.classList.remove('active');
          toggleIcon.setAttribute('d', 'M15 18l-6-6 6-6');
          updateTickerMessage('Magic Boxes panel: Medium view - Essential computational data shown');
          break;
          
        case 'third':
          panel.classList.add('collapsed-third');
          floatingPCP.classList.remove('active');
          toggleIcon.setAttribute('d', 'M15 18l-6-6 6-6');
          updateTickerMessage('Magic Boxes panel: Compact view - Key insights only');
          break;
          
        case 'closed':
          panel.classList.add('collapsed-full');
          floatingPCP.classList.add('active');
          toggleIcon.setAttribute('d', 'M9 18l6-6-6-6');
          updateTickerMessage('Magic Boxes panel: Closed - PCP floated, maximum workspace for computational interaction');
          break;
      }
      
      // Extend CLI ticker across full width when panel closed
      const ticker = document.querySelector('.cli-ticker');
      if (state === 'closed') {
        ticker.style.width = 'calc(100% + 320px)';
      } else {
        ticker.style.width = '100%';
      }
    }

    // Pilots Lounge Functions
    function openPilotsLounge() {
      const panel = document.getElementById('pilotsLoungePanel');
      panel.classList.add('open');
      updateTickerMessage('Pilots\' Lounge opened - 14 advanced computational pilots available');
    }

    function closePilotsLounge() {
      const panel = document.getElementById('pilotsLoungePanel');
      panel.classList.remove('open');
      updateTickerMessage('Pilots\' Lounge closed - Current pilot operational');
    }

    function selectPilot(pilotId) {
      // Update pilot cards
      document.querySelectorAll('.pilot-card').forEach(card => {
        card.classList.remove('active');
      });
      
      const selectedCard = document.querySelector(`[data-pilot="${pilotId}"]`);
      if (selectedCard) {
        selectedCard.classList.add('active');
      }
      
      // Activate the computational pilot
      activatePCP(pilotId);
      
      updateTickerMessage(`${computationalPilots[pilotId].name} selected - Switching computational intelligence focus`);
    }

    // Handle CLI Commands - Advanced Computational Conversational Flow
    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        event.preventDefault();
        executeCommand();
      }
    }

    async function executeCommand() {
      const input = document.getElementById('cliInput');
      if (!input || !input.value.trim()) return;
      
      const userMessage = input.value.trim();
      const output = document.getElementById('cliContent');
      
      // Add user command to conversation history
      conversationHistory.push({ role: 'user', message: userMessage, timestamp: new Date(), pilot: activePCP });
      
      // Add command to output
      const commandLine = document.createElement('div');
      commandLine.style.cssText = 'margin: 6px 0; color: #0bb1bb; font-weight: 600; font-size: 9px;';
      commandLine.textContent = `${systemConfig.companyName}$ ${userMessage}`;
      output.appendChild(commandLine);
      
      input.value = '';
      
      // Process with advanced computational conversational flow
      await processAdvancedComputationalCommand(userMessage, output);
      
      output.scrollTop = output.scrollHeight;
    }

    // Process Advanced Computational Command - Supreme Promise
    async function processAdvancedComputationalCommand(userMessage, output) {
      if (isProcessingConversation) return;
      
      isProcessingConversation = true;
      
      return new Promise((resolve) => {
        setTimeout(() => {
          const response = document.createElement('div');
          response.style.cssText = 'margin: 3px 0 8px 0; color: #333; font-size: 9px; line-height: 1.2;';
          
          // Advanced computational AI response
          const aiResponse = generateAdvancedComputationalResponse(userMessage, activePCP);
          response.innerHTML = aiResponse;
          
          output.appendChild(response);
          
          // Add to conversation history
          conversationHistory.push({ role: 'assistant', message: aiResponse, timestamp: new Date(), pilot: activePCP });
          
          updateTickerMessage(`${computationalPilots[activePCP].name}: ${getUserIntentSummary(userMessage)} - Computational analysis complete`);
          
          isProcessingConversation = false;
          resolve();
        }, 900);
      });
    }

    // Generate Advanced Computational Response
    function generateAdvancedComputationalResponse(userMessage, pilotId) {
      const pilot = computationalPilots[pilotId];
      const intent = analyzeAdvancedUserIntent(userMessage);
      
      switch (intent) {
        case 'help':
          return `💎 <strong>${pilot.name} here.</strong> I have access to all 14 computational pilots, DIDC Archives, Book of Light historical patterns, and advanced feedback loops. What computational challenge can I help you with?`;
          
        case 'status':
          return `⚡ <strong>Advanced Systems Overview:</strong><br>• Active Pilot: ${pilot.name}<br>• DIDC Archives: Connected (${didcConnection.archives.status})<br>• Book of Light: ${didcConnection.bookOfLight.status}<br>• Feedback Loops: ${pilot.feedbackLoops.length} active<br>• Voice: ${voiceSystem.hume.active ? 'Hume' : 'ElevenLabs'} synthesis<br>• Dream Commander: Last sync ${formatTimeAgo(lastDreamUpdate)}`;
          
        case 'pilots':
          const activePilots = Object.values(computationalPilots).filter(p => p.active).length;
          const totalPilots = Object.keys(computationalPilots).length;
          return `👥 <strong>Computational Pilots Status:</strong><br>• Total Pilots: ${totalPilots} advanced computational intelligences<br>• Active: ${pilot.name}<br>• Specialties: All connected to DIDC Archives<br>• Voice Synthesis: Unique characteristics per pilot<br>• Feedback Integration: Dr. Lucy ML, Professor Lee, Dream Commander, Victory 36`;
          
        case 'dream':
          return `🌟 <strong>Dream Commander Advanced Prompting:</strong><br>• Last Update: ${formatTimeAgo(lastDreamUpdate)}<br>• Computational Integration: ${pilot.name} collaboration active<br>• Magic Boxes: ${magicBoxesData.visible.filter(b => b.dreamUpdated).length}/6 updated with advanced insights<br>• Next Cycle: ${formatTimeUntil(new Date(lastDreamUpdate.getTime() + dreamUpdateInterval))}`;
          
        case 'archives':
          return `📜 <strong>DIDC Archives & Book of Light:</strong><br>• Archives Status: ${didcConnection.archives.status}<br>• Book of Light: ${didcConnection.bookOfLight.status}<br>• Historical Patterns: Integrated with all computational analysis<br>• Knowledge Access: Full spectrum available to all 14 pilots`;
          
        case 'feedback':
          const activeFeedbackLoops = pilot.feedbackLoops.map(loop => feedbackLoops[loop].name).join(', ');
          return `🔄 <strong>${pilot.name} Feedback Loops:</strong><br>• Active Loops: ${activeFeedbackLoops || 'None'}<br>• Dr. Lucy ML: ${feedbackLoops.lucy.active ? 'Active' : 'Inactive'} - ${feedbackLoops.lucy.description}<br>• Professor Lee: ${feedbackLoops.lee.active ? 'Active' : 'Inactive'} - ${feedbackLoops.lee.description}<br>• Victory 36: ${feedbackLoops.victory.active ? 'Active' : 'Inactive'} - ${feedbackLoops.victory.description}`;
          
        default:
          return `💎 <strong>${pilot.name} Processing:</strong> "${userMessage}"<br>✅ Advanced computational analysis complete. Integrating with DIDC Archives, Book of Light patterns, and ${pilot.feedbackLoops.length > 0 ? pilot.feedbackLoops.map(loop => feedbackLoops[loop].name).join(' + ') + ' feedback loops' : 'direct processing'}. Results incorporated into strategic intelligence matrix.`;
      }
    }

    // Analyze Advanced User Intent
    function analyzeAdvancedUserIntent(message) {
      const msg = message.toLowerCase();
      
      if (msg.includes('help') || msg.includes('?') || msg.includes('what can')) return 'help';
      if (msg.includes('status') || msg.includes('system') || msg.includes('overview')) return 'status';
      if (msg.includes('pilot') || msg.includes('computational') || msg.includes('14')) return 'pilots';
      if (msg.includes('dream') || msg.includes('commander') || msg.includes('prompting')) return 'dream';
      if (msg.includes('archive') || msg.includes('book') || msg.includes('light') || msg.includes('didc')) return 'archives';
      if (msg.includes('feedback') || msg.includes('loop') || msg.includes('lucy') || msg.includes('lee') || msg.includes('victory')) return 'feedback';
      
      return 'general';
    }

    // Get User Intent Summary for Ticker
    function getUserIntentSummary(message) {
      const intent = analyzeAdvancedUserIntent(message);
      const summaries = {
        'help': 'Computational assistance provided',
        'status': 'Advanced system status delivered',
        'pilots': 'Pilot information shared',
        'dream': 'Dream Commander data accessed',
        'archives': 'DIDC Archives consulted',
        'feedback': 'Feedback loop status reported',
        'general': 'Advanced computational analysis complete'
      };
      
      return summaries[intent] || 'Query processed with computational intelligence';
    }

    // Utility Functions
    function formatTimeAgo(date) {
      const diff = new Date() - date;
      const hours = Math.floor(diff / (1000 * 60 * 60));
      return `${hours}h ago`;
    }

    function formatTimeUntil(date) {
      const diff = date - new Date();
      const hours = Math.floor(diff / (1000 * 60 * 60));
      return `${hours}h`;
    }

    // Update System Ticker - Universal
    async function updateSystemTicker() {
      const ticker = document.getElementById('systemTicker');
      if (!ticker) return;
      
      const messages = [
        `${systemConfig.name} Operating System • CRx01-03 Active • 14 Computational Pilots Ready`,
        `Dream Commander Advanced Prompting • Dr. Lucy ML Loop • Professor Lee Curation • Victory 36 Predictions`,
        `Voice Integration: ${voiceSystem.hume.active ? 'Hume' : 'ElevenLabs'} • DIDC Archives Connected • Book of Light Integrated`,
        `${systemConfig.tagline} • Supreme Promises Only • Computational Excellence Active`,
        `Magic Boxes: ${magicBoxesData.visible.filter(b => b.dreamUpdated).length}/6 Updated • All Systems Optimal`
      ];
      
      let currentIndex = 0;
      setInterval(() => {
        ticker.textContent = messages[currentIndex % messages.length];
        currentIndex++;
      }, 10000);
      
      return Promise.resolve('Universal ticker system active');
    }

    // Update ticker with custom message
    function updateTickerMessage(message) {
      const ticker = document.getElementById('systemTicker');
      if (ticker) {
        ticker.textContent = `${systemConfig.name} • ${message} • ${computationalPilots[activePCP].name} Active • DIDC Connected`;
      }
    }

    // Dream Commander Cycle
    async function dreamCommanderCycle() {
      await dreamCommanderUpdate();
    }

    // Voice System Controls
    async function toggleHumeVoice() {
      if (voiceSystem.hume.available) {
        voiceSystem.hume.active = !voiceSystem.hume.active;
        voiceSystem.elevenlabs.active = !voiceSystem.hume.active;
        updateVoiceUI();
        updateTickerMessage(`Voice system: ${voiceSystem.hume.active ? 'Hume' : 'ElevenLabs'} activated for all 14 pilots`);
      } else {
        updateTickerMessage('Hume voice system: Currently unavailable - ElevenLabs fallback active for all pilots');
      }
    }

    async function toggleElevenLabsVoice() {
      voiceSystem.elevenlabs.active = !voiceSystem.elevenlabs.active;
      voiceSystem.hume.active = !voiceSystem.elevenlabs.active && voiceSystem.hume.available;
      updateVoiceUI();
      updateTickerMessage(`Voice system: ${voiceSystem.elevenlabs.active ? 'ElevenLabs' : 'Hume'} activated for all pilots`);
    }

    // Navigation Functions
    function selectIcon(element, title, level) {
      document.querySelectorAll('.sidebar-icon').forEach(icon => {
        icon.classList.remove('active');
      });
      element.classList.add('active');
      
      updateTickerMessage(`${title} module selected - ${systemConfig.name} ${title.toLowerCase()} systems loading`);
    }

    function toggleAcademy(element) {
      updateTickerMessage('Academy interface - Advanced computational learning and training systems ready');
    }

    function openGiftShop() {
      updateTickerMessage('Gift Shop - Premium computational solutions and advanced pilot features available');
    }

    function openSettings() {
      updateTickerMessage('Diamond SAO Settings - Universal system configuration panel');
    }

    function openDSAOIG() {
      updateTickerMessage('DSAO Integration Gateway - Diamond SAO universal system integrations active');
    }

    // S2DO Functions
    async function initiateScanToDo() {
      const button = document.getElementById('s2doButton');
      button.classList.add('scanning');
      
      updateTickerMessage(`S2DO: Scanning ${systemConfig.name} operations for computational approval workflows`);
      
      return new Promise((resolve) => {
        setTimeout(() => {
          button.classList.remove('scanning');
          updateTickerMessage('S2DO: Advanced computational workflows ready for blockchain approval');
          resolve();
        }, 3000);
      });
    }
  </script>
</body>
</html>